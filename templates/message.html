{% extends "base.html" %}
{% block content %}

<h3 class="fw-bold mb-3">ğŸ“¢ êµìˆ˜ ë©”ì‹œì§€ ë“±ë¡</h3>

<!-- ğŸ”¹ ë©”ì‹œì§€ ë“±ë¡ í¼ -->
<form method="POST" class="mb-4">
  <textarea name="content" class="form-control mb-2" rows="3" placeholder="í•™ìƒë“¤ì—ê²Œ ì „ë‹¬í•  ê³µì§€ë‚˜ ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”" required></textarea>
  <button type="submit" class="btn btn-primary w-100">ğŸ“¤ ë“±ë¡</button>
</form>

<hr>

<!-- ğŸ”¹ ë“±ë¡ëœ ë©”ì‹œì§€ ëª©ë¡ -->
{% if messages and messages|length > 0 %}
  {% for msg in messages %}
  <div class="border rounded p-3 mb-3 bg-light shadow-sm">
    <p class="mb-2">{{ msg.content }}</p>
    <small class="text-muted">{{ msg.date }}</small>

    <form action="{{ url_for('edit_message', m_id=msg.id) }}" method="POST" class="mt-2">
      <textarea name="content" class="form-control mb-2" rows="2">{{ msg.content }}</textarea>
      <button type="submit" class="btn btn-outline-info btn-sm w-100 mb-1">âœï¸ ìˆ˜ì •</button>
    </form>

    <form action="{{ url_for('delete_message', m_id=msg.id) }}" method="POST">
      <button type="submit" class="btn btn-outline-danger btn-sm w-100">ğŸ—‘ï¸ ì‚­ì œ</button>
    </form>
  </div>
  {% endfor %}
{% else %}
  <p class="text-muted">ë“±ë¡ëœ ë©”ì‹œì§€ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
{% endif %}

{% endblock %}
